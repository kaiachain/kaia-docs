# ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

![](/img/banners/kaia-orakl.png)

## ã¯ã˜ã‚ã«

[ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯](https://docs.orakl.network)ã¯ã€ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒã‚ªãƒ•ãƒã‚§ãƒ¼ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ã‚„ãã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã«å®‰å…¨ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹åˆ†æ•£å‹ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ã€‚ ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ¼ãƒ‰](https://docs.orakl.network/developers-guide/data-feed)ã€[VRF](https://docs.orakl.network/developers-guide/vrf)ã€[ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹](https://docs.orakl.network/developers-guide/request-response)ã€[ãƒ—ãƒ«ãƒ¼ãƒ•ãƒ»ã‚ªãƒ–ãƒ»ãƒªã‚¶ãƒ¼ãƒ–](https://docs.orakl.network/developers-guide/proof-of-reserve)ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ»ãƒˆãƒ¼ã‚¯ãƒ³ãƒ»ã‚ªãƒ©ã‚¯ãƒ«ã§ã‚ã‚‹ã“ã¨ã‚’èª‡ã‚Šã¨ã—ã¦ã„ã‚‹ã€‚

Orakl Networkã‚’ä½¿ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«äºˆæ¸¬ä¸å¯èƒ½ã§åã‚Šã®ãªã„ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’ä¾›çµ¦ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ Orakl Networkã‚’ä½¿ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«äºˆæ¸¬ä¸å¯èƒ½ã§åã‚Šã®ãªã„ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’ä¾›çµ¦ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ Orakl Network [Verifiable Random Function (VRF)](https://docs.orakl.network/developers-guide/vrf#what-is-verifiable-random-function)ã¯ã€ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒæ¤œè¨¼å¯èƒ½ãªãƒ©ãƒ³ãƒ€ãƒ å€¤ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã€ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’å¿…è¦ã¨ã™ã‚‹æ§˜ã€…ãªdAppsã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ã€2ã¤ã®ç•°ãªã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’é€šã˜ã¦ã€é–‹ç™ºè€…ã«VRFã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ï¼š[æ’ä¹…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ](https://docs.orakl.network/developers-guide/readme#permanent-account)ã¾ãŸã¯[ä¸€æ™‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ](https://docs.orakl.network/developers-guide/readme#temporary-account)ã§ã™ã€‚ ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ã€2ã¤ã®ç•°ãªã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’é€šã˜ã¦ã€é–‹ç™ºè€…ã«VRFã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã—ã¾ã™ï¼š[æ’ä¹…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ](https://docs.orakl.network/developers-guide/readme#permanent-account)ã¾ãŸã¯[ä¸€æ™‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ](https://docs.orakl.network/developers-guide/readme#temporary-account)ã§ã™ã€‚

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€Orakl Networkã®VRFæ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã€ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®å†…éƒ¨ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¾ã™ã€‚

## å‰ææ¡ä»¶

- [ã‚«ã‚¤ã‚¢ãƒ»ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ](https://chromewebstore.google.com/detail/kaia-wallet/jblndlipeogpafnldhgmapagcccfchpi)
- [Remix IDE](https://remix.ethereum.org/)
- [Kaiaãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’Remixã§](https://klaytn.foundation/using-klaytn-plugin-on-remix/)
- [Faucet](https://faucet.kaia.io)ã‹ã‚‰KAIAã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚

## ã¯ã˜ã‚ã«

ä»¥ä¸‹ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€Orakl Networkã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¦æ±‚ã™ã‚‹ã€‚ å§‹ã‚ã‚ˆã†ï¼ å§‹ã‚ã‚ˆã†ï¼

### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šå¥‘ç´„çŠ¶æ…‹å¤‰æ•°ã®åˆæœŸåŒ–

ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€Cosumerã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’å®šç¾©ã—ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ©Ÿèƒ½ã«å¿…è¦ãªã‚¹ãƒ†ãƒ¼ãƒˆå¤‰æ•°ã‚’åˆæœŸåŒ–ã™ã‚‹ã€‚ ç§ãŸã¡ã®ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒå¥‘ç´„ã¯ `VRFConsumerBase` å¥‘ç´„ã«ä¾å­˜ã—ã¦ãŠã‚Šã€ã“ã®å¥‘ç´„ã¯ `VRFCoordinator` å¥‘ç´„ã¸ã®å‘¼ã³å‡ºã—ã«ä½¿ç”¨ã•ã‚Œã‚‹ `IVRFCoordinator` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ç¶™æ‰¿ã•ã‚Œã¦ã„ã¾ã™ã€‚ æ¬¡ã«ã€ãƒ©ãƒ³ãƒ€ãƒ ãƒ¯ãƒ¼ãƒ‰ã®çµæœã‚’æ ¼ç´ã™ã‚‹å¤‰æ•° `sRandomWord` ã¨ã€ä¿®é£¾å­ `onlyOwner` ã®å†…éƒ¨ã§ä½¿ç”¨ã™ã‚‹å¤‰æ•° `sOwner` ã‚’å®šç¾©ã™ã‚‹ã€‚

```solidity
pragma solidity ^0.8.16;

import { VRFConsumerBase } from "@bisonai/orakl-contracts/src/v0.1/VRFConsumerBase.sol";
import { IVRFCoordinator } from "@bisonai/orakl-contracts/src/v0.1/interfaces/IVRFCoordinator.sol";

contract VRFConsumer is VRFConsumerBase {
  uint256 public sRandomWord;
  address private sOwner;

  error OnlyOwner(address notOwner);
  modifier onlyOwner() {
      if (msg.sender != sOwner) {
          revert OnlyOwner(msg.sender);
      }
      _;
  }
```

### ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šVRF ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã®åˆæœŸåŒ–

ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã§ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¦æ±‚ã™ã‚‹ã«ã¯ã€[`VRFCoordinator`](https://github.com/Bisonai/orakl/blob/master/contracts-v0.1/src/v0.1/VRFCoordinator.sol) ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’åˆæœŸåŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ `VRFCoordinator` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ `VRFCoordinator` ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¦çµåˆã—ã€ãƒ©ãƒ³ãƒ€ãƒ ãƒ¯ãƒ¼ãƒ‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ (`requestRandomWords`) ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã™ã‚‹ã€‚ `VRFCoordinator`ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯Kaia Kairos [0xDA8c0A00A372503aa6EC80f9b29Cc97C454bE499](https://kairos.kaiascan.io/account/0xDA8c0A00A372503aa6EC80f9b29Cc97C454bE499)ã¨Kaia Mainnet [0x3F247f70DC083A2907B8E76635986fd09AA80EFb](https://www.kaiascan.io/account/0x3F247f70DC083A2907B8E76635986fd09AA80EFb)ã®ä¸¡æ–¹ã«é…å‚™ã•ã‚Œã¦ã„ã‚‹ã€‚ `VRFCoordinator` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ `VRFCoordinator` ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¦çµåˆã—ã€ãƒ©ãƒ³ãƒ€ãƒ ãƒ¯ãƒ¼ãƒ‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ (`requestRandomWords`) ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã™ã‚‹ã€‚ `VRFCoordinator`ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¯Kaia Kairos [0xDA8c0A00A372503aa6EC80f9b29Cc97C454bE499](https://kairos.kaiascan.io/account/0xDA8c0A00A372503aa6EC80f9b29Cc97C454bE499)ã¨Kaia Mainnet [0x3F247f70DC083A2907B8E76635986fd09AA80EFb](https://www.kaiascan.io/account/0x3F247f70DC083A2907B8E76635986fd09AA80EFb)ã®ä¸¡æ–¹ã«é…å‚™ã•ã‚Œã¦ã„ã‚‹ã€‚

```solidity
  IVRFCoordinator COORDINATOR;

  constructor(address coordinator) VRFConsumerBase(coordinator) {
      COORDINATOR = IVRFCoordinator(coordinator);
      sOwner = msg.sender;
  }
```

### ã‚¹ãƒ†ãƒƒãƒ— 3: ä¸€æ™‚çš„ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ©ãƒ³ãƒ€ãƒ ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹

To request random words with a temporary account, users need to send $KLAY together with a call using value property.

```solidity
  function requestRandomWordsDirect(
      bytes32 keyHash,
      uint32 callbackGasLimit,
      uint32 numWords,
      address refundRecipient
  )
      public
      payable
      onlyOwner
      returns (uint256 requestId)
  {
    requestId = COORDINATOR.requestRandomWords{value: msg.value}(
      keyHash,
      callbackGasLimit,
      numWords,
      refundRecipient
    );
  }
```

ã“ã®é–¢æ•°ã¯ `COORDINATOR` ã§å®šç¾©ã•ã‚ŒãŸé–¢æ•° `requestRandomWords()` ã‚’å‘¼ã³å‡ºã—ã€å¼•æ•°ã¨ã—ã¦ `keyHash`ã€`callbackGasLimit`ã€`numWords` ãŠã‚ˆã³ `refundRecipient` ã‚’æ¸¡ã™ã€‚ ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹æ”¯æ‰•ã„ã¯ `msg.value` ã‚’é€šã—ã¦ `COORDINATOR` å¥‘ç´„ã® `requestRandomWords()` ã«é€ã‚‰ã‚Œã‚‹ã€‚ ã‚‚ã—æ”¯æ‰•ã„ãŒäºˆå®šã‚ˆã‚Šå¤šã‹ã£ãŸå ´åˆã€è¶…éåˆ†ã®æ”¯æ‰•ã„ã¯ `refundRecipient` ã‚¢ãƒ‰ãƒ¬ã‚¹ã«è¿”ã•ã‚Œã‚‹ã€‚ æœ€çµ‚çš„ã«ã¯ã€ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€‚ `requestRandomWords`é–¢æ•°ã®`msg.value`ã‚’æ­£ç¢ºã«æŒ‡å®šã™ã‚‹ã«ã¯ã€[ã‚µãƒ¼ãƒ“ã‚¹æ–™é‡‘ã®è¦‹ç©ã‚‚ã‚Šæ–¹æ³•](https://docs.orakl.network/developers-guide/vrf#get-estimated-service-fee)ã®èª¬æ˜ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹æ”¯æ‰•ã„ã¯ `msg.value` ã‚’é€šã—ã¦ `COORDINATOR` å¥‘ç´„ã® `requestRandomWords()` ã«é€ã‚‰ã‚Œã‚‹ã€‚ ã‚‚ã—æ”¯æ‰•ã„ãŒäºˆå®šã‚ˆã‚Šå¤šã‹ã£ãŸå ´åˆã€è¶…éåˆ†ã®æ”¯æ‰•ã„ã¯ `refundRecipient` ã‚¢ãƒ‰ãƒ¬ã‚¹ã«è¿”ã•ã‚Œã‚‹ã€‚ æœ€çµ‚çš„ã«ã¯ã€ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€‚ `requestRandomWords`é–¢æ•°ã®`msg.value`ã‚’æ­£ç¢ºã«æŒ‡å®šã™ã‚‹ã«ã¯ã€[ã‚µãƒ¼ãƒ“ã‚¹æ–™é‡‘ã®è¦‹ç©ã‚‚ã‚Šæ–¹æ³•](https://docs.orakl.network/developers-guide/vrf#get-estimated-service-fee)ã®èª¬æ˜ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šãƒ©ãƒ³ãƒ€ãƒ ãªè¨€è‘‰ã‚’æº€ãŸã™

`fulfillRandomWords`é–¢æ•°ã¯ã€`VRFCoordinator`ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãŒãƒ©ãƒ³ãƒ€ãƒ ãƒ¯ãƒ¼ãƒ‰ã®è¦æ±‚ã‚’æº€ãŸã™ã¨ãã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã€‚

```solidity
function fulfillRandomWords(
    uint256 /* requestId */,
    uint256[] memory randomWords
)
    internal
    override
{
    // requestId should be checked if it matches the expected request
    // Generate random value between 1 and 50.
    sRandomWord = (randomWords[0] % 50) + 1;
}
```

ãã‚Œã§ã¯ã€Orakl VRFã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’æ‰‹ã«å…¥ã‚ŒãŸã®ã§ã€å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## å®Ÿè·µçš„ãªå®Ÿæ–½

ä¸‹ã®ä¾‹ã§ã¯ã€ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¦æ±‚ã—ã€ãã®æˆå°±ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹å¥‘ç´„ã«ãªã£ã¦ã„ã‚‹ã€‚

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤

**Remix IDE**

- Remix IDE](https://remix.ethereum.org/)ã«ç§»å‹•ã—ã¾ã™ã€‚
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼\*\*ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€contractsãƒ•ã‚©ãƒ«ãƒ€ã«`consumer-vrf.sol`ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°è¦ä½œæˆã™ã‚‹ã€‚
- æ–°ã—ãä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚
- Remixã§ã€**Compile contract**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã€å·¦å´ã®ã€ŒKaiaã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
- **Environment** > **Injected Provider** - **Kaia Wallet** ã‚’é¸æŠã—ã¾ã™ã€‚
- **Contract**ã§ã€å¥‘ç´„ã‚’é¸æŠã—ã¾ã™ã€‚ ä¾‹ãˆã°ã€`VRFConsumer`ã§ã‚ã‚‹ã€‚
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼å¥‘ç´„ã‚¢ãƒ‰ãƒ¬ã‚¹ `0xDA8c0A00A372503aa6EC80f9b29Cc97C454bE499` (Kairos), `0x3F247f70DC083A2907B8E76635986fd09AA80EFb` (Mainnet) ã‚’æ¸¡ã™ã€‚
- **Deploy**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

**ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.16;

import {VRFConsumerBase} from "@bisonai/orakl-contracts/src/v0.1/VRFConsumerBase.sol";
import {IVRFCoordinator} from "@bisonai/orakl-contracts/src/v0.1/interfaces/IVRFCoordinator.sol";

contract VRFConsumer is VRFConsumerBase {
    uint256 public sRandomWord;
    address private sOwner;

    IVRFCoordinator COORDINATOR;

    error OnlyOwner(address notOwner);

    modifier onlyOwner() {
        if (msg.sender != sOwner) {
            revert OnlyOwner(msg.sender);
        }
        _;
    }

    constructor(address coordinator) VRFConsumerBase(coordinator) {
        sOwner = msg.sender;
        COORDINATOR = IVRFCoordinator(coordinator);
    }

    function requestRandomWordsDirect(
        bytes32 keyHash,
        uint32 callbackGasLimit,
        uint32 numWords,
        address refundRecipient
    ) public payable onlyOwner returns (uint256 requestId) {
        requestId = COORDINATOR.requestRandomWords{value: msg.value}(
            keyHash,
            callbackGasLimit,
            numWords,
            refundRecipient
        );
    }

    function fulfillRandomWords(
        uint256 /* requestId */,
        uint256[] memory randomWords
    ) internal override {
        // requestId should be checked if it matches the expected request
        // Generate random value between 1 and 50.
        sRandomWord = (randomWords[0] % 50) + 1;
    }
}
```

![](/img/build/tools/orakl-vrf-deploy.png)

### ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¨ã®å¯¾è©±

ã¯ã˜ã‚ã« ã“ã®é–¢æ•°ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ã¯å‰è¿°ã®ã‚ˆã†ã«KAIAã‚’é€ä¿¡ã—(æœ€ä½1KAIA)ã€ `keyHash`ã€`callbackGasLimit`ã€`numWords`ã€`refundRecipient`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä¸ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ `keyHash`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€èª°ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã§ãã‚‹ã‹ã‚’ä¸€æ„ã«å®šç¾©ã™ã‚‹ã€‚ Orakl Network VRFã¯ã€Kaiaãƒã‚§ãƒ¼ãƒ³ã”ã¨ã«1ã¤ã®ã‚­ãƒ¼ãƒãƒƒã‚·ãƒ¥ã‚’æä¾›ã—ã¾ã™ï¼š

- Kairos: `0xd9af33106d664a53cb9946df5cd81a30695f5b72224ee64e798b278af812779c`
- Mainnet: `0x6cff5233743b3c0321a19ae11ab38ae0ddc7ddfe1e91b162fa8bb657488fb157`

æ®‹ã‚Šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼š

- `callbackGasLimit`ã‚’`500000`ã¨ã™ã‚‹ã€
- `numWords`ã‚’`1`ã€ãã—ã¦
- `refundRecipient`ã«EOAã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚

ãã®å¾Œã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæº€ãŸã•ã‚Œã‚‹ã¨ã€ `sRandomWord()` é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ ã“ã® `sRandomWord()` é–¢æ•°ã¯ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¿”ã™ã€‚ å¤šç”°ğŸ‰ï¼ ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¦æ±‚ã—ã€ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã§å—ã‘å–ã£ãŸã ã‘ã ã€‚

- **requestRandomWordsDirect()**: Will be sending 1 KLAY to execute this function. ä¸‹ã®ç”»åƒãŒãã‚Œã‚’ç¤ºã—ã¦ã„ã‚‹ï¼š

![](/img/build/tools/orakl-vrf-request.png)

- \*\*sRandomWord()\*\*ã§ã‚ã‚‹ï¼šVRFCoordinator`ãŒãƒ©ãƒ³ãƒ€ãƒ ãƒ¯ãƒ¼ãƒ‰ã®è¦æ±‚ã‚’æº€ãŸã™ã¨ã€ãã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒ `sRandomWord`å¤‰æ•°ã«æ ¼ç´ã•ã‚Œã‚‹ã€‚ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾—ã‚‹ã«ã¯ã€é–¢æ•°`sRandomWord()\`ã‚’å‘¼ã³å‡ºã™ã€‚ ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã§ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¦æ±‚ã™ã‚‹ã«ã¯ã€ã¾ãš`requestRandomWordsDirect()`é–¢æ•°ã‚’å®Ÿè¡Œã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚ ã“ã®é–¢æ•°ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ã¯å‰è¿°ã®ã‚ˆã†ã«KAIAã‚’é€ä¿¡ã—(æœ€ä½1KAIA)ã€`keyHash`ã€`callbackGasLimit`ã€`numWords`ã€`refundRecipient`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä¸ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ `keyHash\`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€èª°ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã§ãã‚‹ã‹ã‚’ä¸€æ„ã«å®šç¾©ã™ã‚‹ã€‚ Orakl Network VRFã¯ã€Kaiaãƒã‚§ãƒ¼ãƒ³ã”ã¨ã«1ã¤ã®ã‚­ãƒ¼ãƒãƒƒã‚·ãƒ¥ã‚’æä¾›ã—ã¾ã™ï¼š

![](/img/build/tools/orakl-vrf-response.png)

å¤šç”°ğŸ‰ï¼ ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’è¦æ±‚ã—ã€ã‚¹ãƒãƒ¼ãƒˆãƒ»ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã§å—ã‘å–ã£ãŸã ã‘ã ã€‚

## çµè«–

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€Orakl Network VRFã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ãƒ©ãƒ³ãƒ€ãƒ ãªå˜èªã‚’ç”Ÿæˆã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸã€‚ ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ¼ãƒ‰ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€ãƒ—ãƒ«ãƒ¼ãƒ•ãƒ»ã‚ªãƒ–ãƒ»ãƒªã‚¶ãƒ¼ãƒ–ãªã©ã€ã‚ˆã‚Šå¤šãã®ã‚ªãƒ©ã‚¯ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã™ã‚‹ã€‚ ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è©³ç´°ãŠã‚ˆã³å‹•ä½œã«ã¤ã„ã¦ã¯ã€[ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.orakl.network)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ¼ãƒ‰ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€ãƒ—ãƒ«ãƒ¼ãƒ•ãƒ»ã‚ªãƒ–ãƒ»ãƒªã‚¶ãƒ¼ãƒ–ãªã©ã€ã‚ˆã‚Šå¤šãã®ã‚ªãƒ©ã‚¯ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã™ã‚‹ã€‚ ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è©³ç´°ãŠã‚ˆã³å‹•ä½œã«ã¤ã„ã¦ã¯ã€[ã‚ªãƒ©ã‚¯ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.orakl.network)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
