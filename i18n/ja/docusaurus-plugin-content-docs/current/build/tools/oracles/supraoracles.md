# SupraOracles

![](/img/banners/kaia-supra.png)

## ã¯ã˜ã‚ã«

[SupraOracles](https://supraoracles.com/)ã¯ã€æ–°ã—ã„ã€é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã®ã‚ªãƒ©ã‚¯ãƒ«ï¼†ã‚¤ãƒ³ãƒˆãƒ©ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼šãƒ‘ãƒ–ãƒªãƒƒã‚¯ï¼ˆL1ã¨L2ï¼‰ã¾ãŸã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆï¼ˆä¼æ¥­ï¼‰ã®ã™ã¹ã¦ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚’ç›¸äº’ãƒªãƒ³ã‚¯ã™ã‚‹ã‚¯ãƒ­ã‚¹ãƒã‚§ãƒ¼ãƒ³ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚ªãƒ©ã‚¯ãƒ«ã€ã‚¢ã‚»ãƒƒãƒˆãƒ–ãƒªãƒƒã‚¸ã€ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã©ï¼‰ã®åž‚ç›´çµ±åˆãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã§ã™ã€‚ ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ã€ãƒ‡ãƒ¼ã‚¿ç²¾åº¦ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«å„ªã‚ŒãŸæ¬¡ä¸–ä»£ã‚¯ãƒ­ã‚¹ãƒã‚§ãƒ¼ãƒ³ãƒ»ã‚ªãƒ©ã‚¯ãƒ«ãƒ»ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ã€‚ ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ã€ãƒ‡ãƒ¼ã‚¿ç²¾åº¦ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«å„ªã‚ŒãŸæ¬¡ä¸–ä»£ã‚¯ãƒ­ã‚¹ãƒã‚§ãƒ¼ãƒ³ãƒ»ã‚ªãƒ©ã‚¯ãƒ«ãƒ»ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ã€‚

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€SupraOracle ä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ ETH/USD ä¾¡æ ¼ã‚’è¦æ±‚ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸã€‚ SupraOracleã‚’ä½¿ãˆã°ã€ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå†…ã§ä¹±æ•°ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã«èˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯ã€ã‚«ã‚¤ã‚¢ã«SupraVRFã‚’çµ±åˆã™ã‚‹ãŸã‚ã®[ã‚¬ã‚¤ãƒ‰](https://metaverse-knowledge-kit.klaytn.foundation/docs/decentralized-oracle/oracle-providers/supraOracles-tutorial)ã‚’ã”è¦§ãã ã•ã„ã€‚ SupraOraclesã«é–¢ã™ã‚‹ã‚ˆã‚Šè©³ç´°ãªã‚¬ã‚¤ãƒ‰ã«ã¤ã„ã¦ã¯ã€[SupraOracles Docs](https://supraoracles.com/docs/development-guides) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€Remix IDEã‚’ä½¿ã£ã¦Kaiaãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ç°¡å˜ã«å–å¾—ã™ã‚‹ãŸã‚ã«SupraOraclesã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

## å‰ææ¡ä»¶

- [ã‚«ã‚¤ã‚¢ãƒ»ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ](https://chromewebstore.google.com/detail/kaia-wallet/jblndlipeogpafnldhgmapagcccfchpi)
- [Remix IDE](https://remix.ethereum.org/)
- [Kaiaãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’Remixã§](https://klaytn.foundation/using-klaytn-plugin-on-remix/)
- [Faucet](https://faucet.kaia.io)ã‹ã‚‰KAIAã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚

## ã¯ã˜ã‚ã«

ä»¥ä¸‹ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€SupraOraclesã‚’ä½¿ç”¨ã—ã¦ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ETH/USDä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’è¦æ±‚ã—ã¾ã™ã€‚ å§‹ã‚ã‚ˆã†ï¼ å§‹ã‚ã‚ˆã†ï¼

### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šSå€¤ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã®ä½œæˆ

ã“ã‚Œã¯ã€SupraOraclesã‹ã‚‰ä¾¡æ ¼ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚  S-Valueã‚’å–å¾—ã—ãŸã„solidityã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã€‚

```solidity
interface ISupraSValueFeed {
function checkPrice(string memory marketPair) external view returns (int256 price, uint256 timestamp);
}
```

### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šSå€¤ãƒ•ã‚£ãƒ¼ãƒ‰ã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š

SupraOraclesã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‹ã‚‰S-Valueã‚’å–å¾—ã™ã‚‹ã«ã¯ã€ã¾ãšé¸æŠžã—ãŸãƒã‚§ãƒ¼ãƒ³ã®S-Valueãƒ•ã‚£ãƒ¼ãƒ‰ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚  é©åˆ‡ãªã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¾—ã‚‰ã‚ŒãŸã‚‰ã€å…ˆã«å®šç¾©ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ä½¿ç”¨ã—ã¦S-Value Feedã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ï¼š

```solidity
contract ISupraSValueFeedExample {
    ISupraSValueFeed internal sValueFeed;
    constructor() {
        sValueFeed = ISupraSValueFeed(0x7f003178060af3904b8b70fEa066AEE28e85043E);
    }
}
```

ã“ã®ä¾‹ã§ã¯ã€Kaia Kairos TestNetã«S-Value Feedã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ ã‚«ã‚¤ã‚¢ãƒ»ã‚«ã‚¤ãƒ­ã‚¹S-Valueã®ãƒ•ã‚£ãƒ¼ãƒ‰ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯[ã“ã¡ã‚‰](https://supraoracles.com/docs/get-started/networks/)ã§ç¢ºèªã§ãã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—3: S-Valueæš—å·ä¾¡æ ¼ã‚’å–å¾—ã™ã‚‹

S-Valueã®æš—å·åŒ–é€šè²¨ãƒšã‚¢ã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚  ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§ã€ETH/USDTï¼ˆeth_usdtï¼‰ã®ä¾¡æ ¼ã‚’å–å¾—ã—ã¾ã™ã€‚

```solidity
function getEthUsdtPrice() external view returns (int) {
(
int price,
/* uint timestamp */
) = sValueFeed.checkPrice("eth_usdt");
return price;
}
```

## å®Ÿè·µ

ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€S-Value Price Feed Contract ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€getEthUsdtPrice() é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ ETH/USDT ãƒšã‚¢ã®ä¾¡æ ¼ã‚’å–å¾—ã—ã¾ã™ã€‚

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ‡ãƒ—ãƒ­ã‚¤

**Remix IDE**

- Remix IDE](https://remix.ethereum.org/) ã«ç§»å‹•ã™ã‚‹ã€‚
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€contractsãƒ•ã‚©ãƒ«ãƒ€ã«`demoSupraPriceFeed.sol`ã¨ã„ã†æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã€‚
- æ–°ã—ãä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚
- Remixã§ã€**Compile contract**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã€å·¦å´ã®Kaiaã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
- **Environment** > **Injected Provider** - **Kaia Wallet** ã‚’é¸æŠžã—ã¾ã™ã€‚
- **Contract**ã§ã€å¥‘ç´„ã‚’é¸æŠžã—ã¾ã™ã€‚ ä¾‹ãˆã°ã€ISupraSValueFeedExampleã€‚
- **Deploy**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

**ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.7;
interface ISupraSValueFeed {
    function checkPrice(string memory marketPair) external view returns (int256 price, uint256 timestamp);
}
contract ISupraSValueFeedExample {
    ISupraSValueFeed internal sValueFeed;
    constructor() {
        sValueFeed = ISupraSValueFeed(0x7f003178060af3904b8b70fEa066AEE28e85043E);
    }
    function getEthUsdtPrice() external view returns (int) {
        (
            int price,
            /* uint timestamp */
        ) = sValueFeed.checkPrice("eth_usdt");
        return price;
    }
}
```

### ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¨ã®å¯¾è©±

é¸æŠžã—ãŸé€šè²¨ãƒšã‚¢ã®ä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€`getEthUsdtPrice()`é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

![](/img/build/tools/sPriceFeed.png)

å¤šç”°ðŸŽ‰ï¼ ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«é€šè²¨ä¾¡æ ¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ï¼ˆETH/USDTï¼‰ã‚’è¦æ±‚ã—ã¾ã—ãŸã€‚

æœ¬åŸ·ç­†æ™‚ç‚¹ã§ã¯ã€getEthUsdtPrice()ã¯ "185795966200 "ã¨ã„ã†8ãƒã‚¤ãƒ³ãƒˆç²¾åº¦ã®æ•°å€¤ã‚’è¿”ã—ã¦ã„ã‚‹ã€‚ å¤šç”°ðŸŽ‰ï¼ ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«é€šè²¨ä¾¡æ ¼ã®ãƒ•ã‚£ãƒ¼ãƒ‰ï¼ˆETH/USDTï¼‰ã‚’è¦æ±‚ã—ã¾ã—ãŸã€‚

## SupraOraclesã®æš—å·é€šè²¨ä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹ãã®ä»–ã®æ–¹æ³•

### Web3.jsã«ã‚ˆã‚‹S-Valueãƒ•ã‚£ãƒ¼ãƒ‰

```javascript
// example assumes that the web3 library has been imported and is accessible within your scope
const getEthUsdtPrice = async () => {
const abi = [{ "inputs": [ { "internalType": "string", "name": "marketPair", "type": "string" } ], "name": "checkPrice", "outputs": [ { "internalType": "int256", "name": "price", "type": "int256" }, { "internalType": "uint256", "name": "timestamp", "type": "uint256" } ], "stateMutability": "view", "type": "function" } ]
const address = '0x7f003178060af3904b8b70fEa066AEE28e85043E'
const web3 = new Web3('https://public-en-kairos.node.kaia.io')
const sValueFeed = new web3.eth.Contract(abi, address)
const price = (await sValueFeed.methods.checkPrice('eth_usdt').call()).price
console.log(`The price is: ${price}`)
}
getEthUsdtPrice()
```

### ethers.jsã«ã‚ˆã‚‹S-Valueãƒ•ã‚£ãƒ¼ãƒ‰

```javascript
// example assumes that the ethers library has been imported and is accessible within your scope
const getEthUsdtPrice = async () => {
////for ethers version 6.0
const provider = new ethers.JsonRpcProvider("https://public-en-kairos.node.kaia.io")
////for ethers version <= 5.7.2
//const provider = new ethers.providers.JsonRpcProvider('https://public-en-kairos.node.kaia.io')
const abi = [{ "inputs": [ { "internalType": "string", "name": "marketPair", "type": "string" } ], "name": "checkPrice", "outputs": [ { "internalType": "int256", "name": "price", "type": "int256" }, { "internalType": "uint256", "name": "timestamp", "type": "uint256" } ], "stateMutability": "view", "type": "function" } ]
const address = '0x7f003178060af3904b8b70fEa066AEE28e85043E'
const sValueFeed = new ethers.Contract(address, abi, provider)
const price = (await sValueFeed.checkPrice('eth_usdt')).price
console.log(`The price is: ${price.toString()}`)
}
getEthUsdtPrice()
```

## çµè«–

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€SupraOracle ä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ ETH/USD ä¾¡æ ¼ã‚’è¦æ±‚ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã—ãŸã€‚ SupraOracleã‚’ä½¿ãˆã°ã€ã‚¹ãƒžãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå†…ã§ä¹±æ•°ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã«èˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯ã€ã‚«ã‚¤ã‚¢ã«SupraVRFã‚’çµ±åˆã™ã‚‹ãŸã‚ã®[ã‚¬ã‚¤ãƒ‰](https://metaverse-knowledge-kit.klaytn.foundation/docs/decentralized-oracle/oracle-providers/supraOracles-tutorial)ã‚’ã”è¦§ãã ã•ã„ã€‚ SupraOraclesã«é–¢ã™ã‚‹ã‚ˆã‚Šè©³ç´°ãªã‚¬ã‚¤ãƒ‰ã«ã¤ã„ã¦ã¯ã€[SupraOracles Docs](https://supraoracles.com/docs/development-guides) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
